<!doctype html><html lang=fr dir=auto><head><meta charset=utf-8><meta http-equiv=X-UA-Compatible content="IE=edge"><meta name=viewport content="width=device-width,initial-scale=1,shrink-to-fit=no"><meta name=robots content="index, follow"><title>Day 5 â€“ Un NAS maison pour hoster mon RAG server | Premiers pas: DÃ©veloppement Thomson MO5</title><meta name=keywords content="AI,nas,openmediavault,raspberry pi"><meta name=description content="CinquiÃ¨me jour de vibe coding : comment hoster localement mon serveur RAG dÃ©diÃ© au MO5."><meta name=author content><link rel=canonical href=https://thlg057.github.io/mo5-blog/days/day-5-nas-rag-server/><link crossorigin=anonymous href=https://thlg057.github.io/mo5-blog/assets/css/stylesheet.a090830a421002426baafbd314e38f149d77b4c48a12ee9312700d770b27fb26.css integrity="sha256-oJCDCkIQAkJrqvvTFOOPFJ13tMSKEu6TEnANdwsn+yY=" rel="preload stylesheet" as=style><link rel=icon href=https://thlg057.github.io/mo5-blog/favicon.ico><link rel=icon type=image/png sizes=16x16 href=https://thlg057.github.io/mo5-blog/favicon-16x16.png><link rel=icon type=image/png sizes=32x32 href=https://thlg057.github.io/mo5-blog/favicon-32x32.png><link rel=apple-touch-icon href=https://thlg057.github.io/mo5-blog/apple-touch-icon.png><link rel=mask-icon href=https://thlg057.github.io/mo5-blog/safari-pinned-tab.svg><meta name=theme-color content="#2e2e33"><meta name=msapplication-TileColor content="#2e2e33"><link rel=alternate hreflang=fr href=https://thlg057.github.io/mo5-blog/days/day-5-nas-rag-server/><link rel=alternate hreflang=en href=https://thlg057.github.io/mo5-blog/en/days/day-5-nas-rag-server/><noscript><style>#theme-toggle,.top-link{display:none}</style><style>@media(prefers-color-scheme:dark){:root{--theme:rgb(29, 30, 32);--entry:rgb(46, 46, 51);--primary:rgb(218, 218, 219);--secondary:rgb(155, 156, 157);--tertiary:rgb(65, 66, 68);--content:rgb(196, 196, 197);--code-block-bg:rgb(46, 46, 51);--code-bg:rgb(55, 56, 62);--border:rgb(51, 51, 51)}.list{background:var(--theme)}.list:not(.dark)::-webkit-scrollbar-track{background:0 0}.list:not(.dark)::-webkit-scrollbar-thumb{border-color:var(--theme)}}</style></noscript><script async src="https://www.googletagmanager.com/gtag/js?id=G-WRQSQ5Y81F"></script><script>var dnt,doNotTrack=!1;if(!1&&(dnt=navigator.doNotTrack||window.doNotTrack||navigator.msDoNotTrack,doNotTrack=dnt=="1"||dnt=="yes"),!doNotTrack){window.dataLayer=window.dataLayer||[];function gtag(){dataLayer.push(arguments)}gtag("js",new Date),gtag("config","G-WRQSQ5Y81F")}</script><meta property="og:url" content="https://thlg057.github.io/mo5-blog/days/day-5-nas-rag-server/"><meta property="og:site_name" content="Premiers pas: DÃ©veloppement Thomson MO5"><meta property="og:title" content="Day 5 â€“ Un NAS maison pour hoster mon RAG server"><meta property="og:description" content="CinquiÃ¨me jour de vibe coding : comment hoster localement mon serveur RAG dÃ©diÃ© au MO5."><meta property="og:locale" content="fr-fr"><meta property="og:type" content="article"><meta property="article:section" content="days"><meta property="article:published_time" content="2025-12-11T00:00:00+00:00"><meta property="article:modified_time" content="2025-12-11T00:00:00+00:00"><meta property="article:tag" content="AI"><meta property="article:tag" content="Nas"><meta property="article:tag" content="Openmediavault"><meta property="article:tag" content="Raspberry Pi"><meta name=twitter:card content="summary"><meta name=twitter:title content="Day 5 â€“ Un NAS maison pour hoster mon RAG server"><meta name=twitter:description content="CinquiÃ¨me jour de vibe coding : comment hoster localement mon serveur RAG dÃ©diÃ© au MO5."><script type=application/ld+json>{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Days","item":"https://thlg057.github.io/mo5-blog/days/"},{"@type":"ListItem","position":2,"name":"Day 5 â€“ Un NAS maison pour hoster mon RAG server","item":"https://thlg057.github.io/mo5-blog/days/day-5-nas-rag-server/"}]}</script><script type=application/ld+json>{"@context":"https://schema.org","@type":"BlogPosting","headline":"Day 5 â€“ Un NAS maison pour hoster mon RAG server","name":"Day 5 â€“ Un NAS maison pour hoster mon RAG server","description":"CinquiÃ¨me jour de vibe coding : comment hoster localement mon serveur RAG dÃ©diÃ© au MO5.","keywords":["AI","nas","openmediavault","raspberry pi"],"articleBody":"Lâ€™objectif de ce day 5, câ€™Ã©tait de rÃ©soudre un problÃ¨me assez simple sur le papier, mais bloquant dans la pratique : oÃ¹ hoster localement mon RAG server dÃ©diÃ© au MO5.\nPetit rappel : câ€™est quoi un RAG server ? Un RAG (Retrieval-Augmented Generation) server, câ€™est un backend qui combine :\nun moteur de recherche (souvent basÃ© sur des embeddings / vecteurs) une base de connaissances (documents, sources, archivesâ€¦) un LLM (local ou distant) Lâ€™idÃ©e est simple :\nğŸ‘‰ au lieu de poser une question â€œdans le videâ€ Ã  un modÃ¨le, on va aller chercher des infos pertinentes dans une base de donnÃ©es, puis les injecter dans le prompt.\nDans mon cas, ce RAG server est dÃ©diÃ© au MO5 : il sert Ã  interroger de la doc, des sources, des notes techniques, etc., de maniÃ¨re contextuelle.\nLe problÃ¨me : mon environnement de dev Mon environnement de dev principal tourne sur un Raspberry Pi.\nSi je fais tourner le RAG server sur mon laptop, il nâ€™est tout simplement pas accessible depuis cet environnement.\nJâ€™ai bien un NAS Synology Ã  la maisonâ€¦ mais :\ncâ€™est un DS110J il est ancien trÃ¨s peu customisable ne sais pas hoster des services docker Je me suis donc dit que câ€™Ã©tait peut-Ãªtre le bon moment pour tourner la page du NAS Synology et le remplacer par quelque chose de plusâ€¦ flexible.\nUn NAS Ã  base de Raspberry Pi 4 Lâ€™idÃ©e :\nğŸ‘‰ monter un NAS maison, basÃ© sur un Raspberry Pi 4 (que jâ€™ai dÃ©jÃ ), qui puisse Ã  la fois :\nservir de stockage hÃ©berger des services / images docker Mes besoins (trÃ¨s raisonnables) Rien dâ€™exotique :\nğŸ“ Un serveur de fichiers pour partager documents et sources ğŸ‘¥ GÃ©rer des utilisateurs et des droits ğŸ¬ Un service de streaming vidÃ©o (oui, lâ€™UPnP câ€™est dÃ©passÃ©, je saisâ€¦ mais je trouve Ã§a pratique) ğŸ³ Pouvoir hoster des images Docker (mon RAG server sera dÃ©ployÃ© comme Ã§a) Et surtout :\nquelque chose de simple Ã  configurer avec une interface graphique (Ã§a doit venir de mon background Windows ğŸ˜„) pas trop prise de tÃªte OpenMediaVault AprÃ¨s quelques recherches, OpenMediaVault cochait pas mal de cases.\nLâ€™installation est plutÃ´t simple :\npartir dâ€™une image Raspberry Pi OS Lite (pas besoin dâ€™interface graphique, il sera utilisÃ© comme serveur) installer OpenMediaVault via le script officiel wget -O - https://github.com/OpenMediaVault-Plugin-Developers/installScript/raw/master/install | sudo bash Le disque dur : dÃ©tail important Jâ€™avais dÃ©jÃ  un disque dur externe de 1 To, mais alimentÃ© uniquement par USB\nPour un usage NAS, ce nâ€™est pas une super idÃ©e.\nğŸ‘‰ Le Raspberry Pi ne fournit pas toujours assez de puissance sur lâ€™USB\nğŸ‘‰ Risque de dÃ©connexions et de corruption des donnÃ©es\nUn disque dur auto-alimentÃ© est bien plus adaptÃ© :\nalimentation dÃ©diÃ©e stabilitÃ© fiabilitÃ© pour un service 24/7 Upgrade matÃ©riel Direction Leboncoin.\nRÃ©sultat :\nğŸ’¾ Disque dur Western Digital ğŸ“¦ 2 To ğŸ”Œ Auto-alimentÃ© ğŸ’° 35,49 â‚¬ frais de port inclus Parfait.\nConfiguration du NAS Globalement, la configuration dâ€™OpenMediaVault sâ€™est faite sans gros souci.\nLÃ  oÃ¹ jâ€™ai un peu plus galÃ©rÃ©, câ€™est quand jâ€™ai voulu recompiler Ã  distance depuis Visual Studio Code sur mon laptop\nProblÃ¨me SSH avec OpenMediaVault Sur le NAS, jâ€™ai crÃ©Ã© le mÃªme utilisateur que sur mon laptop pour simplifier les accÃ¨s.\nMais les utilisateurs crÃ©Ã©s via OpenMediaVault ne font pas partie du groupe autorisÃ© Ã  se connecter en SSH\nIl faut donc ajouter lâ€™utilisateur au bon groupe :\nsudo usermod -aG _ssh myuser âš ï¸ TrÃ¨s important :\nne pas oublier le _ devant ssh\nPuis appliquer le changement :\nsudo systemctl restart ssh VS Code refuse toujours de se connecter Connexion SSH OK via Putty, mais VS Code Remote-SSH refusait de fonctionner\nDans les logs :\nchannel 3: open failed: administratively prohibited ERROR: TCP port forwarding appears to be disabled on the remote host. Ensure that the sshd_config has `AllowTcpForwarding yes`. Et lÃ , le dÃ©clic.\nğŸ‘‰ Ce nâ€™est pas un bug VS Code\nğŸ‘‰ Câ€™est une restriction SSH cÃ´tÃ© OpenMediaVault\nPourquoi VS Code a besoin de Ã§a ? VS Code Remote-SSH utilise :\ndu port forwarding des tunnels TCP notamment -D (dynamic port forwarding / SOCKS) OpenMediaVault dÃ©sactive Ã§a par dÃ©faut.\nâš ï¸ Important : il faut ne pas modifier sshd_config Ã  la main, OMV pourrait Ã©craser vos changements. Il faut passer par lâ€™interface OMV.\nLa solution (propre) Dans lâ€™interface web OpenMediaVault :\nServices â†’ SSH Onglet ParamÃ¨tres Activer / vÃ©rifier :\nâœ… Autoriser le transfert TCP âœ… Autoriser le tunneling âœ… Autoriser lâ€™authentification par mot de passe (si utilisÃ©e) Appliquer.\nğŸ‰ Nickel.\nVS Code peut maintenant se connecter en remote au Raspberry Pi sans problÃ¨me. Et la suite ? Il ne me reste plus quâ€™Ã  :\nactiver Docker dans OpenMediaVault dÃ©ployer lâ€™image de mon RAG server dÃ©diÃ© au MO5 Day 5 bisâ€¦ Une fois lâ€™image buildÃ©e et lancÃ©e, mon API est accessible via le port 8080\nEn clair :\nhttp://nas â†’ interface du NAS (oui, pas encore de certificat ğŸ˜…) http://nas:8080 â†’ API du RAG server Ce nâ€™est pas trÃ¨s cool de devoir retenir des numÃ©ros de ports, surtout si je veux hÃ©berger dâ€™autres services plus tard.\nğŸ‘‰ https://nas/mo5-knowledges-api serait idÃ©al comme adresse pour mon serveur !\nJe me suis donc mis en tÃªte dâ€™installer un reverse proxyâ€¦ Mais Ã§aâ€¦ ce sera pour un autre day ğŸ˜‰\n","wordCount":"869","inLanguage":"fr","datePublished":"2025-12-11T00:00:00Z","dateModified":"2025-12-11T00:00:00Z","mainEntityOfPage":{"@type":"WebPage","@id":"https://thlg057.github.io/mo5-blog/days/day-5-nas-rag-server/"},"publisher":{"@type":"Organization","name":"Premiers pas: DÃ©veloppement Thomson MO5","logo":{"@type":"ImageObject","url":"https://thlg057.github.io/mo5-blog/favicon.ico"}}}</script></head><body id=top><script>localStorage.getItem("pref-theme")==="dark"?document.body.classList.add("dark"):localStorage.getItem("pref-theme")==="light"?document.body.classList.remove("dark"):window.matchMedia("(prefers-color-scheme: dark)").matches&&document.body.classList.add("dark")</script><header class=header><nav class=nav><div class=logo><a href=https://thlg057.github.io/mo5-blog/ accesskey=h title="Premiers pas: DÃ©veloppement Thomson MO5 (Alt + H)">Premiers pas: DÃ©veloppement Thomson MO5</a><div class=logo-switches><button id=theme-toggle accesskey=t title="(Alt + T)" aria-label="Toggle theme">
<svg id="moon" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M21 12.79A9 9 0 1111.21 3 7 7 0 0021 12.79z"/></svg>
<svg id="sun" width="24" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><circle cx="12" cy="12" r="5"/><line x1="12" y1="1" x2="12" y2="3"/><line x1="12" y1="21" x2="12" y2="23"/><line x1="4.22" y1="4.22" x2="5.64" y2="5.64"/><line x1="18.36" y1="18.36" x2="19.78" y2="19.78"/><line x1="1" y1="12" x2="3" y2="12"/><line x1="21" y1="12" x2="23" y2="12"/><line x1="4.22" y1="19.78" x2="5.64" y2="18.36"/><line x1="18.36" y1="5.64" x2="19.78" y2="4.22"/></svg></button><ul class=lang-switch><li>|</li><li><a href=https://thlg057.github.io/mo5-blog/en/ title=English aria-label=English>En</a></li></ul></div></div><ul id=menu></ul></nav></header><main class=main><article class=post-single><header class=post-header><h1 class="post-title entry-hint-parent">Day 5 â€“ Un NAS maison pour hoster mon RAG server</h1><div class=post-description>CinquiÃ¨me jour de vibe coding : comment hoster localement mon serveur RAG dÃ©diÃ© au MO5.</div><div class=post-meta><span title='2025-12-11 00:00:00 +0000 UTC'>11 dÃ©cembre 2025</span>&nbsp;|&nbsp;<span>Traductions:</span><ul class=i18n_list><li><a href=https://thlg057.github.io/mo5-blog/en/days/day-5-nas-rag-server/>En</a></li></ul></div></header><div class=post-content><p>Lâ€™objectif de ce <strong>day 5</strong>, câ€™Ã©tait de rÃ©soudre un problÃ¨me assez simple sur le papier, mais bloquant dans la pratique : <strong>oÃ¹ hoster localement mon RAG server dÃ©diÃ© au MO5</strong>.</p><h3 id=petit-rappel--cest-quoi-un-rag-server->Petit rappel : câ€™est quoi un RAG server ?<a hidden class=anchor aria-hidden=true href=#petit-rappel--cest-quoi-un-rag-server->#</a></h3><p>Un <strong>RAG (Retrieval-Augmented Generation)</strong> server, câ€™est un backend qui combine :</p><ul><li>un moteur de recherche (souvent basÃ© sur des embeddings / vecteurs)</li><li>une base de connaissances (documents, sources, archivesâ€¦)</li><li>un LLM (local ou distant)</li></ul><p>Lâ€™idÃ©e est simple :<br>ğŸ‘‰ au lieu de poser une question â€œdans le videâ€ Ã  un modÃ¨le, on va <strong>aller chercher des infos pertinentes dans une base de donnÃ©es</strong>, puis <strong>les injecter dans le prompt</strong>.</p><p>Dans mon cas, ce RAG server est dÃ©diÃ© au <strong>MO5</strong> : il sert Ã  interroger de la doc, des sources, des notes techniques, etc., de maniÃ¨re contextuelle.</p><h3 id=le-problÃ¨me--mon-environnement-de-dev>Le problÃ¨me : mon environnement de dev<a hidden class=anchor aria-hidden=true href=#le-problÃ¨me--mon-environnement-de-dev>#</a></h3><p>Mon environnement de dev principal tourne sur un <strong>Raspberry Pi</strong>.<br>Si je fais tourner le RAG server sur mon laptop, il nâ€™est tout simplement <strong>pas accessible</strong> depuis cet environnement.</p><p>Jâ€™ai bien un <strong>NAS Synology</strong> Ã  la maisonâ€¦ mais :</p><ul><li>câ€™est un <strong>DS110J</strong></li><li>il est ancien</li><li>trÃ¨s peu customisable</li><li>ne sais pas hoster des services docker</li></ul><p>Je me suis donc dit que câ€™Ã©tait peut-Ãªtre le bon moment pour <strong>tourner la page du NAS Synology</strong> et le remplacer par quelque chose de plus&mldr; flexible.</p><h2 id=un-nas-Ã -base-de-raspberry-pi-4>Un NAS Ã  base de Raspberry Pi 4<a hidden class=anchor aria-hidden=true href=#un-nas-Ã -base-de-raspberry-pi-4>#</a></h2><p>Lâ€™idÃ©e :<br>ğŸ‘‰ monter un <strong>NAS maison</strong>, basÃ© sur un <strong>Raspberry Pi 4</strong> (que j&rsquo;ai dÃ©jÃ ), qui puisse Ã  la fois :</p><ul><li>servir de stockage</li><li>hÃ©berger des services / images docker</li></ul><h3 id=mes-besoins-trÃ¨s-raisonnables>Mes besoins (trÃ¨s raisonnables)<a hidden class=anchor aria-hidden=true href=#mes-besoins-trÃ¨s-raisonnables>#</a></h3><p>Rien dâ€™exotique :</p><ul><li>ğŸ“ Un serveur de fichiers pour partager documents et sources</li><li>ğŸ‘¥ GÃ©rer des utilisateurs et des droits</li><li>ğŸ¬ Un service de streaming vidÃ©o (oui, lâ€™UPnP câ€™est dÃ©passÃ©, je saisâ€¦ mais je trouve Ã§a pratique)</li><li>ğŸ³ Pouvoir hoster des images Docker (mon RAG server sera dÃ©ployÃ© comme Ã§a)</li></ul><p>Et surtout :</p><ul><li>quelque chose de <strong>simple Ã  configurer</strong></li><li>avec une <strong>interface graphique</strong> (Ã§a doit venir de mon background Windows ğŸ˜„)</li><li>pas trop prise de tÃªte</li></ul><h3 id=openmediavault>OpenMediaVault<a hidden class=anchor aria-hidden=true href=#openmediavault>#</a></h3><p>AprÃ¨s quelques recherches, <strong>OpenMediaVault</strong> cochait pas mal de cases.</p><p>Lâ€™installation est plutÃ´t simple :</p><ul><li>partir dâ€™une image <strong>Raspberry Pi OS Lite</strong> (pas besoin dâ€™interface graphique, il sera utilisÃ© comme serveur)</li><li>installer OpenMediaVault via le script officiel</li></ul><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>wget -O - https://github.com/OpenMediaVault-Plugin-Developers/installScript/raw/master/install <span class=p>|</span> sudo bash
</span></span></code></pre></div><h2 id=le-disque-dur--dÃ©tail-important>Le disque dur : dÃ©tail important<a hidden class=anchor aria-hidden=true href=#le-disque-dur--dÃ©tail-important>#</a></h2><p>Jâ€™avais dÃ©jÃ  un disque dur externe de <strong>1 To</strong>, mais alimentÃ© uniquement par USB</p><p>Pour un usage NAS, ce nâ€™est <strong>pas une super idÃ©e</strong>.</p><p>ğŸ‘‰ Le Raspberry Pi ne fournit pas toujours assez de puissance sur lâ€™USB<br>ğŸ‘‰ Risque de dÃ©connexions et de corruption des donnÃ©es</p><p>Un disque dur <strong>auto-alimentÃ©</strong> est bien plus adaptÃ© :</p><ul><li>alimentation dÃ©diÃ©e</li><li>stabilitÃ©</li><li>fiabilitÃ© pour un service 24/7</li></ul><h3 id=upgrade-matÃ©riel>Upgrade matÃ©riel<a hidden class=anchor aria-hidden=true href=#upgrade-matÃ©riel>#</a></h3><p>Direction <strong>Leboncoin</strong>.<br>RÃ©sultat :</p><ul><li>ğŸ’¾ Disque dur Western Digital</li><li>ğŸ“¦ 2 To</li><li>ğŸ”Œ Auto-alimentÃ©</li><li>ğŸ’° 35,49 â‚¬ frais de port inclus</li></ul><p>Parfait.</p><h2 id=configuration-du-nas>Configuration du NAS<a hidden class=anchor aria-hidden=true href=#configuration-du-nas>#</a></h2><p>Globalement, la configuration dâ€™OpenMediaVault sâ€™est faite sans gros souci.</p><p>LÃ  oÃ¹ jâ€™ai un peu plus galÃ©rÃ©, câ€™est quand jâ€™ai voulu recompiler Ã  distance depuis <strong>Visual Studio Code</strong> sur mon laptop</p><h3 id=problÃ¨me-ssh-avec-openmediavault>ProblÃ¨me SSH avec OpenMediaVault<a hidden class=anchor aria-hidden=true href=#problÃ¨me-ssh-avec-openmediavault>#</a></h3><p>Sur le NAS, jâ€™ai crÃ©Ã© <strong>le mÃªme utilisateur que sur mon laptop</strong> pour simplifier les accÃ¨s.</p><p>Mais les utilisateurs crÃ©Ã©s via OpenMediaVault <strong>ne font pas partie du groupe autorisÃ© Ã  se connecter en SSH</strong></p><p>Il faut donc ajouter lâ€™utilisateur au bon groupe :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo usermod -aG _ssh myuser
</span></span></code></pre></div><p>âš ï¸ <strong>TrÃ¨s important</strong> :<br>ne pas oublier le <code>_</code> devant <code>ssh</code></p><p>Puis appliquer le changement :</p><div class=highlight><pre tabindex=0 class=chroma><code class=language-bash data-lang=bash><span class=line><span class=cl>sudo systemctl restart ssh
</span></span></code></pre></div><h3 id=vs-code-refuse-toujours-de-se-connecter>VS Code refuse toujours de se connecter<a hidden class=anchor aria-hidden=true href=#vs-code-refuse-toujours-de-se-connecter>#</a></h3><p>Connexion SSH OK via <strong>Putty</strong>, mais <strong>VS Code Remote-SSH</strong> refusait de fonctionner</p><p>Dans les logs :</p><pre tabindex=0><code>channel 3: open failed: administratively prohibited
ERROR: TCP port forwarding appears to be disabled on the remote host.
Ensure that the sshd_config has `AllowTcpForwarding yes`.
</code></pre><p>Et lÃ , le dÃ©clic.</p><p>ğŸ‘‰ Ce nâ€™est pas un bug VS Code<br>ğŸ‘‰ Câ€™est une <strong>restriction SSH cÃ´tÃ© OpenMediaVault</strong></p><h3 id=pourquoi-vs-code-a-besoin-de-Ã§a->Pourquoi VS Code a besoin de Ã§a ?<a hidden class=anchor aria-hidden=true href=#pourquoi-vs-code-a-besoin-de-Ã§a->#</a></h3><p>VS Code Remote-SSH utilise :</p><ul><li>du <strong>port forwarding</strong></li><li>des tunnels TCP</li><li>notamment <code>-D</code> (dynamic port forwarding / SOCKS)</li></ul><p>OpenMediaVault dÃ©sactive Ã§a par dÃ©faut.</p><p>âš ï¸ Important : il faut ne pas modifier <code>sshd_config</code> Ã  la main, OMV pourrait Ã©craser vos changements. Il faut passer par lâ€™interface OMV.</p><h3 id=la-solution-propre>La solution (propre)<a hidden class=anchor aria-hidden=true href=#la-solution-propre>#</a></h3><p>Dans lâ€™interface web OpenMediaVault :</p><ul><li><strong>Services â†’ SSH</strong></li><li>Onglet <strong>ParamÃ¨tres</strong></li></ul><p>Activer / vÃ©rifier :</p><ul><li>âœ… Autoriser le transfert TCP</li><li>âœ… Autoriser le tunneling</li><li>âœ… Autoriser lâ€™authentification par mot de passe (si utilisÃ©e)</li></ul><p>Appliquer.</p><p>ğŸ‰ Nickel.<br>VS Code peut maintenant se connecter en remote au Raspberry Pi sans problÃ¨me.
<img alt="OPenMediaVault SSH configuration" loading=lazy src=https://thlg057.github.io/mo5-blog/assets/openmediavault-ssh.jpg title="OpenMediaVault SSH configuration"></p><h2 id=et-la-suite->Et la suite ?<a hidden class=anchor aria-hidden=true href=#et-la-suite->#</a></h2><p>Il ne me reste plus quâ€™Ã  :</p><ul><li>activer <strong>Docker</strong> dans OpenMediaVault</li><li>dÃ©ployer lâ€™image de mon <strong>RAG server dÃ©diÃ© au MO5</strong></li></ul><h3 id=day-5-bis>Day 5 bisâ€¦<a hidden class=anchor aria-hidden=true href=#day-5-bis>#</a></h3><p>Une fois lâ€™image buildÃ©e et lancÃ©e, mon API est accessible via le <strong>port 8080</strong></p><p>En clair :</p><ul><li><code>http://nas</code> â†’ interface du NAS (oui, pas encore de certificat ğŸ˜…)</li><li><code>http://nas:8080</code> â†’ API du RAG server</li></ul><p>Ce nâ€™est pas trÃ¨s cool de devoir retenir des numÃ©ros de ports, surtout si je veux hÃ©berger dâ€™autres services plus tard.</p><p>ğŸ‘‰ <code>https://nas/mo5-knowledges-api</code> serait idÃ©al comme adresse pour mon serveur !</p><p>Je me suis donc mis en tÃªte dâ€™installer un <strong>reverse proxy</strong>&mldr; Mais Ã§aâ€¦ ce sera pour un autre day ğŸ˜‰</p></div><footer class=post-footer><ul class=post-tags><li><a href=https://thlg057.github.io/mo5-blog/tags/ai/>AI</a></li><li><a href=https://thlg057.github.io/mo5-blog/tags/nas/>Nas</a></li><li><a href=https://thlg057.github.io/mo5-blog/tags/openmediavault/>Openmediavault</a></li><li><a href=https://thlg057.github.io/mo5-blog/tags/raspberry-pi/>Raspberry Pi</a></li></ul></footer></article></main><a href=#top aria-label="go to top" title="Go to Top (Alt + G)" class=top-link id=top-link accesskey=g><svg viewBox="0 0 12 6" fill="currentColor"><path d="M12 6H0l6-6z"/></svg>
</a><script>let menu=document.getElementById("menu");menu&&(menu.scrollLeft=localStorage.getItem("menu-scroll-position"),menu.onscroll=function(){localStorage.setItem("menu-scroll-position",menu.scrollLeft)}),document.querySelectorAll('a[href^="#"]').forEach(e=>{e.addEventListener("click",function(e){e.preventDefault();var t=this.getAttribute("href").substr(1);window.matchMedia("(prefers-reduced-motion: reduce)").matches?document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView():document.querySelector(`[id='${decodeURIComponent(t)}']`).scrollIntoView({behavior:"smooth"}),t==="top"?history.replaceState(null,null," "):history.pushState(null,null,`#${t}`)})})</script><script>var mybutton=document.getElementById("top-link");window.onscroll=function(){document.body.scrollTop>800||document.documentElement.scrollTop>800?(mybutton.style.visibility="visible",mybutton.style.opacity="1"):(mybutton.style.visibility="hidden",mybutton.style.opacity="0")}</script><script>document.getElementById("theme-toggle").addEventListener("click",()=>{document.body.className.includes("dark")?(document.body.classList.remove("dark"),localStorage.setItem("pref-theme","light")):(document.body.classList.add("dark"),localStorage.setItem("pref-theme","dark"))})</script></body></html>